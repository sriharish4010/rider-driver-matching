# ğŸ—ï¸ PySpark Backend Architecture

## System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RIDE MATCHING SYSTEM                      â”‚
â”‚                   Dual Architecture (Frontend + Backend)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FRONTEND (Original)       â”‚    â”‚    BACKEND (NEW - PySpark)   â”‚
â”‚  ========================     â”‚    â”‚  =========================   â”‚
â”‚                              â”‚    â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   index.html       â”‚      â”‚    â”‚  â”‚    app.py          â”‚     â”‚
â”‚  â”‚   Landing Page     â”‚      â”‚    â”‚  â”‚   Flask REST API   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    â”‚  â”‚   9 Endpoints      â”‚     â”‚
â”‚           â†“                  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    â”‚            â†“                â”‚
â”‚  â”‚   upload.html      â”‚      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Upload Interface â”‚â—„â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â–ºâ”‚ spark_matcher.py   â”‚     â”‚
â”‚  â”‚   JSON Validation  â”‚      â”‚    â”‚  â”‚ PySpark Engine     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    â”‚  â”‚ - Haversine UDF    â”‚     â”‚
â”‚           â†“                  â”‚    â”‚  â”‚ - Traffic UDF      â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    â”‚  â”‚ - Urgency UDF      â”‚     â”‚
â”‚  â”‚   dashboard.html   â”‚      â”‚    â”‚  â”‚ - Vehicle UDF      â”‚     â”‚
â”‚  â”‚   Analytics View   â”‚      â”‚    â”‚  â”‚ - Rating UDF       â”‚     â”‚
â”‚  â”‚   Chart.js         â”‚      â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    â”‚            â†“                â”‚
â”‚           â†“                  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    â”‚  â”‚  Spark Session     â”‚     â”‚
â”‚  â”‚   dashboard.js     â”‚      â”‚    â”‚  â”‚  Distributed       â”‚     â”‚
â”‚  â”‚   Matching Logic   â”‚      â”‚    â”‚  â”‚  Processing        â”‚     â”‚
â”‚  â”‚   - Haversine      â”‚      â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”‚   - Scoring        â”‚      â”‚    â”‚                              â”‚
â”‚  â”‚   - Ranking        â”‚      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    â”‚  â”‚  JSON Response     â”‚     â”‚
â”‚                              â”‚    â”‚  â”‚  Frontend Format   â”‚     â”‚
â”‚  sessionStorage              â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  (Browser)                   â”‚    â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        Independent                          Independent
     (No backend needed)                  (Standalone API)
                  â–²                              â–²
                  â”‚                              â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€ Optional â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         Integration
                        (Future Enhancement)
```

---

## Data Flow - Frontend Only

```
1. User Opens index.html
         â†“
2. Clicks "Upload Dataset"
         â†“
3. upload.html loads
         â†“
4. User selects drivers.json & riders.json
         â†“
5. upload.js validates JSON structure
         â†“
6. Data stored in sessionStorage
         â†“
7. Redirect to dashboard.html
         â†“
8. dashboard.js reads sessionStorage
         â†“
9. JavaScript Haversine calculation
         â†“
10. Scoring algorithm (client-side)
         â†“
11. Chart.js renders analytics
         â†“
12. Display matches on page
```

---

## Data Flow - Backend Only

```
1. Client sends POST /api/upload
         â†“
2. Flask app.py receives JSON
         â†“
3. Validates data structure
         â†“
4. spark_matcher.py initializes Spark
         â†“
5. Load data into DataFrames
         â†“
6. Cross join riders Ã— drivers
         â†“
7. Apply UDFs (Haversine, weights)
         â†“
8. Calculate scores (distributed)
         â†“
9. Window function ranks matches
         â†“
10. Collect top 3 per rider
         â†“
11. Format as JSON response
         â†“
12. Client receives matches
```

---

## PySpark Processing Pipeline

```
INPUT: drivers.json + riders.json
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Spark DataFrame Creation         â”‚
â”‚   - Extract lat/lon coordinates    â”‚
â”‚   - Set default values             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Filter Available Drivers         â”‚
â”‚   status = "available"             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cross Join                       â”‚
â”‚   riders Ã— available_drivers       â”‚
â”‚   (All possible pairs)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Apply UDFs (Distributed)         â”‚
â”‚   - haversine_udf(lat1,lon1,...)   â”‚
â”‚   - traffic_weight_udf(zone)       â”‚
â”‚   - urgency_weight_udf(urgency)    â”‚
â”‚   - vehicle_bonus_udf(...)         â”‚
â”‚   - rating_bonus_udf(rating)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Calculate Distance Score         â”‚
â”‚   100 - (distance/50) * 100        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Calculate Final Score            â”‚
â”‚   (dist + vehicle + rating)        â”‚
â”‚   Ã— traffic Ã— urgency              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Window Function                  â”‚
â”‚   PARTITION BY rider_id            â”‚
â”‚   ORDER BY score DESC              â”‚
â”‚   ROW_NUMBER()                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Filter Top 3                     â”‚
â”‚   rank <= 3                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Collect Results                  â”‚
â”‚   Group by rider                   â”‚
â”‚   Format as JSON                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
OUTPUT: JSON with matches
```

---

## API Endpoints Architecture

```
Flask App (app.py)
    â”œâ”€â”€ / (GET)
    â”‚   â””â”€â”€ API Documentation
    â”‚
    â”œâ”€â”€ /health (GET)
    â”‚   â””â”€â”€ Health Check
    â”‚
    â”œâ”€â”€ /api/upload (POST)
    â”‚   â”œâ”€â”€ Validate drivers & riders
    â”‚   â”œâ”€â”€ Load into Spark DataFrames
    â”‚   â”œâ”€â”€ Calculate matches
    â”‚   â””â”€â”€ Return analytics
    â”‚
    â”œâ”€â”€ /api/match (GET)
    â”‚   â”œâ”€â”€ Check if data exists
    â”‚   â”œâ”€â”€ Get matches from Spark
    â”‚   â””â”€â”€ Group by rider
    â”‚
    â”œâ”€â”€ /api/analytics (GET)
    â”‚   â”œâ”€â”€ Count drivers/riders
    â”‚   â”œâ”€â”€ Calculate avg rating
    â”‚   â”œâ”€â”€ Count matches
    â”‚   â””â”€â”€ Vehicle distribution
    â”‚
    â”œâ”€â”€ /api/export (GET)
    â”‚   â”œâ”€â”€ Get all matches
    â”‚   â”œâ”€â”€ Get analytics
    â”‚   â”œâ”€â”€ Format export JSON
    â”‚   â””â”€â”€ Return with metadata
    â”‚
    â”œâ”€â”€ /api/match-single (POST)
    â”‚   â”œâ”€â”€ Validate single rider
    â”‚   â”œâ”€â”€ Create temp DataFrame
    â”‚   â”œâ”€â”€ Match against drivers
    â”‚   â””â”€â”€ Return top 3
    â”‚
    â”œâ”€â”€ /api/drivers (GET)
    â”‚   â””â”€â”€ Return stored drivers
    â”‚
    â””â”€â”€ /api/riders (GET)
        â””â”€â”€ Return stored riders
```

---

## File Structure

```
RDM/
â”‚
â”œâ”€â”€ Frontend (Unchanged)
â”‚   â”œâ”€â”€ index.html           âœ… Original
â”‚   â”œâ”€â”€ upload.html          âœ… Original
â”‚   â”œâ”€â”€ dashboard.html       âœ… Original
â”‚   â”œâ”€â”€ drivers.json         âœ… Original
â”‚   â”œâ”€â”€ riders.json          âœ… Original
â”‚   â””â”€â”€ assets/
â”‚       â”œâ”€â”€ styles.css       âœ… Original
â”‚       â”œâ”€â”€ upload.js        âœ… Original
â”‚       â””â”€â”€ dashboard.js     âœ… Original
â”‚
â””â”€â”€ Backend (NEW)
    â”œâ”€â”€ app.py               ğŸ”¥ Flask API
    â”œâ”€â”€ spark_matcher.py     ğŸ”¥ PySpark Engine
    â”œâ”€â”€ requirements.txt     ğŸ”¥ Dependencies
    â”œâ”€â”€ config.ini           ğŸ”¥ Configuration
    â”œâ”€â”€ start.bat            ğŸ”¥ Windows Startup
    â”œâ”€â”€ start.sh             ğŸ”¥ Unix Startup
    â”œâ”€â”€ test_matcher.py      ğŸ”¥ Unit Tests
    â”œâ”€â”€ test_api.py          ğŸ”¥ API Tests
    â”œâ”€â”€ verify_installation.py ğŸ”¥ Verification
    â”œâ”€â”€ sample_api_data.json ğŸ”¥ Test Data
    â”œâ”€â”€ README.md            ğŸ”¥ Documentation
    â”œâ”€â”€ QUICKSTART.md        ğŸ”¥ Quick Guide
    â””â”€â”€ .gitignore           ğŸ”¥ Git Config
```

---

## Matching Algorithm Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Component        â”‚   Frontend (JS)      â”‚   Backend (PySpark)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Distance Calc        â”‚ haversine()          â”‚ haversine_udf()      â”‚
â”‚                      â”‚ JavaScript function  â”‚ Spark UDF            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Traffic Weight       â”‚ trafficWeight()      â”‚ traffic_weight_udf() â”‚
â”‚   - low              â”‚ 1.0                  â”‚ 1.0                  â”‚
â”‚   - medium           â”‚ 0.9                  â”‚ 0.9                  â”‚
â”‚   - high             â”‚ 0.75                 â”‚ 0.75                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Urgency Weight       â”‚ urgencyWeight()      â”‚ urgency_weight_udf() â”‚
â”‚   - low              â”‚ 0.8                  â”‚ 0.8                  â”‚
â”‚   - medium           â”‚ 1.0                  â”‚ 1.0                  â”‚
â”‚   - high             â”‚ 1.3                  â”‚ 1.3                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Vehicle Match        â”‚ +30 if match         â”‚ vehicle_bonus_udf()  â”‚
â”‚                      â”‚                      â”‚ +30 if match         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Rating Bonus         â”‚ (rating/5) * 25      â”‚ rating_bonus_udf()   â”‚
â”‚                      â”‚                      â”‚ (rating/5) * 25      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Distance Score       â”‚ 100-(dist/50)*100    â”‚ Same formula         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Final Score          â”‚ (D+V+R)*T*U          â”‚ (D+V+R)*T*U          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filtering            â”‚ status='available'   â”‚ Same filter          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ranking              â”‚ sort by score        â”‚ Window ROW_NUMBER    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Top Matches          â”‚ slice(0, 3)          â”‚ rank <= 3            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RESULT: 100% IDENTICAL ALGORITHM âœ…
```

---

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  TECHNOLOGY LAYERS                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Presentation Layer                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ HTML5 + CSS3 + JavaScript ES6+              â”‚       â”‚
â”‚  â”‚ Chart.js for Visualization                  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                      â†•                                  â”‚
â”‚  API Layer                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Flask 3.0.0 - REST API                      â”‚       â”‚
â”‚  â”‚ flask-cors - CORS Support                   â”‚       â”‚
â”‚  â”‚ 9 Endpoints (GET/POST)                      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                      â†•                                  â”‚
â”‚  Business Logic Layer                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ PySpark 3.5.0 - Distributed Engine          â”‚       â”‚
â”‚  â”‚ Custom UDFs - Matching Logic                â”‚       â”‚
â”‚  â”‚ DataFrames - Structured Data                â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                      â†•                                  â”‚
â”‚  Data Layer                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ JSON Files (drivers.json, riders.json)      â”‚       â”‚
â”‚  â”‚ In-Memory DataFrames                        â”‚       â”‚
â”‚  â”‚ sessionStorage (Frontend)                   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Options

```
Development
    â”œâ”€â”€ Local (Current)
    â”‚   â”œâ”€â”€ Frontend: Double-click index.html
    â”‚   â””â”€â”€ Backend: python app.py
    â”‚
Production
    â”œâ”€â”€ Frontend
    â”‚   â”œâ”€â”€ Static hosting (GitHub Pages, Netlify, Vercel)
    â”‚   â””â”€â”€ CDN distribution
    â”‚
    â””â”€â”€ Backend
        â”œâ”€â”€ Option 1: Single Server
        â”‚   â”œâ”€â”€ EC2 / Compute Engine / Azure VM
        â”‚   â””â”€â”€ Gunicorn + Nginx
        â”‚
        â”œâ”€â”€ Option 2: Container
        â”‚   â”œâ”€â”€ Docker image
        â”‚   â””â”€â”€ Kubernetes cluster
        â”‚
        â”œâ”€â”€ Option 3: Serverless
        â”‚   â”œâ”€â”€ AWS Lambda + API Gateway
        â”‚   â””â”€â”€ Azure Functions
        â”‚
        â””â”€â”€ Option 4: Managed Spark
            â”œâ”€â”€ AWS EMR
            â”œâ”€â”€ Azure Databricks
            â””â”€â”€ Google Dataproc
```

---

## Scalability Comparison

```
Records     Frontend (JS)    Backend (PySpark)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
10          âœ… Fast          âœ… Fast
100         âœ… Fast          âœ… Fast
1,000       âœ… Medium        âœ… Fast
10,000      âš ï¸ Slow          âœ… Fast
100,000     âŒ Crash         âœ… Medium
1,000,000   âŒ N/A           âœ… Fast (distributed)
10,000,000  âŒ N/A           âœ… Medium (cluster)
```

---

**Architecture Summary:**

âœ… **Dual Independent Systems** - Frontend and backend work separately  
âœ… **Identical Algorithm** - Same matching logic, different implementation  
âœ… **Scalability** - Frontend for demos, backend for production  
âœ… **Flexibility** - Choose based on use case  
âœ… **Future-Ready** - Can integrate later via AJAX/Fetch API  
